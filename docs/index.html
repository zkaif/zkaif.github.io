<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Home | Kaifan&amp;Blog</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Home" />
<meta name="author" content="凯帆" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="null" />
<meta property="og:description" content="null" />
<link rel="canonical" href="/" />
<meta property="og:url" content="/" />
<meta property="og:site_name" content="Kaifan&amp;Blog" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Home" />
<script type="application/ld+json">
{"url":"/","headline":"Home","name":"Kaifan&amp;Blog","author":{"@type":"Person","name":"凯帆"},"description":"null","@type":"WebSite","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <!-- CSS -->
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700">

  <!-- Favicon -->
  <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon"/>
  <!-- <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"> -->

  <!-- RSS -->
  <link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Kaifan&amp;Blog" />

  <!-- Google Analytics-->
  
</head>


  <body>

    <nav class="nav">
  <div class="nav-container">
    <a href="/">
      <h2 class="nav-title">Kaifan&Blog</h2>
    </a>
    <ul>
      <li><a href="/">博客</a></li>
      <li><a href="/tags">标签</a></li>
      <li><a href="/about">联系</a></li>
    </ul>
  </div>
</nav>


    <main>
      <div class="catalogue">
  
    <a href="/2020-04-27/%E5%85%B3%E4%BA%8E%E8%B4%A2%E5%8A%A1%E4%B8%9A%E5%8A%A1%E6%A8%A1%E5%9E%8B%E7%9A%84%E6%80%9D%E8%80%83" class="catalogue-item">
      <div>
        <time datetime="2020-04-27 00:00:00 +0800" class="catalogue-time">2020年04月27日</time>
        <h1 class="catalogue-title">关于财务业务模型的思考</h1>
        <div class="catalogue-line"></div>

        <p>
          之前参与公司财务业务的开发，自己阅读《会计学基础》后，自己尝试设计了一下业务架构，现在整理记录一下。 基本模型 组织 在财务中，会计并不关心这个组织是做什么的，在财务系统开发中我们将门店 仓库 供应商等统称为组织这种级别的组织我们称之为3级组织 对于国家税务局来说，他并不关系每个一级组织的情况，他们所关系的是分公司公司及2级组织和1级组织 为了统一模型我们给每个公司建立一个虚拟子公司称之为本部子公司 以上说的公司就是子公司，总公司其实只是子公司的股东，在这套模型中作为对外投资关联 对于其他不完整的组织我们通过虚拟的方式使其变得完整 交易 这里先忘记之前的交易的理解 我们这里的交易是指：两个组织之间发生的某种行为，这种行为涉及到双方资产与负债的变动，交易发生在3级组织之间， 我们之所以将交易的发生放在3级组织是应为现实生活中可是是去门店购买，大客户可由仓库发货，并不是分公司，但是3级组织作为2级组织的一部分在最总汇总时可以被归属到某个2级组织甚至1级组织 门店仓库这些不同类型是组织的一个tag，组织可以同时拥有多个tag 单据 在交易的过程中会出现一些文件信息用于记录交易这样行为的发生过程，这种文件信息我们称之为单据 像仓库间调拨，销售，验收，这些我们都称之为单据，发票作为一种特殊的单据也是单据的一种 交易模型 交易的行为是可以被枚举的我们提前确定这个交易的过程，定义为交易模型 交易模型确认交易过程是如何发生的，产生什么单据，交易过程可以用于几级组织 整个交易的过程按照交易模板预先设置好的去执行 交易模板确定什么组织和什么组织之间可以发生什么交易通过组织tag确定 业务视图（举例说明） 定义 业务视图是在基本模型之上对于各种数据的处理过后生成的某种数据视图–报表 视图单据可以以来其他视图单据 处理过程包括人工审核等 直接视图是指不经过任何处理就生成的业务视图，如业务要看门店A的销售情况，可以直接查看基础模型的销售单，这个销售单在业务视图的展示需要通过直接视图进行展示 举例：如结算单，对账单，凭证...
        </p>

      </div>
    </a>
  
    <a href="/2020-04-18/%E5%85%B3%E4%BA%8E%E5%94%AE%E5%90%8E%E4%B8%9A%E5%8A%A1%E7%9A%84%E6%80%9D%E8%80%83" class="catalogue-item">
      <div>
        <time datetime="2020-04-18 00:00:00 +0800" class="catalogue-time">2020年04月18日</time>
        <h1 class="catalogue-title">关于售后业务的思考</h1>
        <div class="catalogue-line"></div>

        <p>
          背景
这两周为公司开发一个售后功能，开发完成后带来的思考
关于售后单创建流程的思考：
在实际的业务中不管是生鲜还是快递的售后单他们存在一定的共性，即某一商家对某一买家对于某次交易中出现的纠纷处理过程的记录，我们称为售后单。售后单的意义在于如何更好的支撑售后这一业务，而不是售后单本身。——售后单的本质和作用

其中我们可以发现对于售后业务必然存在商家、买家、订单，不过不同的商家和订单类型会带来不同的售后流程，发起时间等等。这时我们可以梳理出一个售后的基本工作，这里我个人不会考虑售后单应该有什么功能什么字段，而是售后业务需要什么，我们的售后单作为一种记录能否支撑该业务。这里的支撑也包含可扩展性。——即解决一个问题我们需要一个什么样的售后单

现在如何抽象一个售后单，让我们把重点放到售后业务本身，而不是售后单。快递、生鲜他们都是对于某次交易中不满意商品的协商处理过程。这两个业务场景中售后仅能对单个商品发起，但是并不是所有售后业务都是单商品售后，这让他们之间多了一些其他售后流程没有的共性，即单商品售后流程，代码实现上我们就可以抽象出一个最抽象的父类售后单，抽象类单商品售后单，然后才是快递售后单和生鲜售后单。售后流程中的各种操作过程作为售后单的方法被编码。其他视角其实也是相同的。另外从更广的角度来说对各种单据的抽象可以是的售后单被归类到某种单据的实现中去——抽象一个售后单

总结
在面对这样的业务时，容易犯错就是将关注点本身放到售后单本身而不是售后业务本身，容易忽略一个事情就是，售后单本质上是现实生活中的人们为了更好的进行售后，而将售后业务抽象后产生的某种产物，售后单本身已经为我们实现售后功能做了很多工作，但是千万不能忘记一点，把关注点放到业务而不是数据，像售后单的状态代表的是当前售后处在什么环节，而不是真的表示这个售后单是什么状态。

        </p>

      </div>
    </a>
  
    <a href="/2020-04-18/Java%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%B0%E5%BA%95%E8%99%9A%E6%8B%9F%E4%BA%86%E4%BB%80%E4%B9%88" class="catalogue-item">
      <div>
        <time datetime="2020-04-18 00:00:00 +0800" class="catalogue-time">2020年04月18日</time>
        <h1 class="catalogue-title">Java虚拟机到底虚拟了什么</h1>
        <div class="catalogue-line"></div>

        <p>
          最近阅读新版的《深入理解Java虚拟机》有了自己实现一个虚拟机的想法，在完成阶段性的目标后重新认识了一下JVM，希望记录并且分享。本文主要为了总结Java虚拟机是什么，本文并不会介绍内存，GC，类加载器这些面试类的“知识要点”，而是期望总结清楚最本质的东西。 可执行文件与Class文件 我们先来看一段汇编代码 Hello, OS world!程序： org 07c00h mov ax, cs mov ds, ax mov es, ax call DispStr jmp $ DispStr: mov ax, BootMessage mov bp, ax mov cx,...
        </p>

      </div>
    </a>
  
</div>

<div class="pagination">
  
  

  <span>第 1 页</span>
</div>

    </main>

    <footer>
  <span>
    &copy; <time datetime="2020-12-30 14:29:25 +0800">2020</time> 凯帆. Made with Jekyll using the <a href="https://github.com/chesterhow/tale/">Tale</a> theme.
  </span>
</footer>

  </body>
</html>
